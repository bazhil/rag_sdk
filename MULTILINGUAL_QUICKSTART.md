# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: –ö—Ä–æ—Å—Å-—è–∑—ã–∫–æ–≤–æ–π –ø–æ–∏—Å–∫

## –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞! ‚úÖ

–¢–µ–ø–µ—Ä—å RAG **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ –Ω–∞ –ª—é–±—ã—Ö —è–∑—ã–∫–∞—Ö –∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏ –Ω–∞ –ª—é–±—ã—Ö —è–∑—ã–∫–∞—Ö!

### –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

**–†–∞–Ω—å—à–µ:**
- ‚ùå –ê–Ω–≥–ª–∏–π—Å–∫–∏–π –¥–æ–∫—É–º–µ–Ω—Ç + —Ä—É—Å—Å–∫–∏–π –∑–∞–ø—Ä–æ—Å = –ø–ª–æ—Ö–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- ‚ùå –ù—É–∂–Ω–æ –±—ã–ª–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ –∏ —è–∑—ã–∫–∏
- ‚ùå –¢—Ä–µ–±–æ–≤–∞–ª–∞—Å—å —Ä—É—á–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–¢–µ–ø–µ—Ä—å:**
- ‚úÖ –õ—é–±–æ–π –¥–æ–∫—É–º–µ–Ω—Ç + –ª—é–±–æ–π –∑–∞–ø—Ä–æ—Å = –æ—Ç–ª–∏—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–æ–≤
- ‚úÖ –ù–∏–∫–∞–∫–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è!

## –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

### –®–∞–≥ 1: –û–±–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
pip install -r requirements.txt
```

–ò–ª–∏ —á–µ—Ä–µ–∑ Docker:

```bash
docker compose down
docker compose up --build
```

**–ù–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏):**
- `langdetect` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞
- `deep-translator` - –ø–µ—Ä–µ–≤–æ–¥ –∑–∞–ø—Ä–æ—Å–æ–≤
- –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–∞—è embedding –º–æ–¥–µ–ª—å (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞)

### –®–∞–≥ 2: –ü–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∏—Ä—É–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

**–í–∞–∂–Ω–æ!** –°—Ç–∞—Ä—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω–µ –∏–º–µ—é—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —è–∑—ã–∫–µ. –ù—É–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏—Ö –∑–∞–Ω–æ–≤–æ:

**–ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8000
2. –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏—Ö –∑–∞–Ω–æ–≤–æ

**–ß–µ—Ä–µ–∑ –∫–æ–¥:**
```python
from RAG import RAGManager

async def reindex():
    rag = RAGManager()
    await rag.initialize()
    
    # –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ
    docs = await rag.get_documents()
    for doc in docs:
        await rag.delete_document(doc['id'])
    
    # –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∑–∞–Ω–æ–≤–æ
    await rag.add_document("your_document.pdf", "doc.pdf")
    
    await rag.close()
```

### –®–∞–≥ 3: –ì–æ—Ç–æ–≤–æ! –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ

–¢–µ–ø–µ—Ä—å –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ RAG –∫–∞–∫ –æ–±—ã—á–Ω–æ - –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ê–Ω–≥–ª–∏–π—Å–∫–∏–π –¥–æ–∫—É–º–µ–Ω—Ç, —Ä—É—Å—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã

```python
from RAG import RAGManager

async def main():
    rag = RAGManager()
    await rag.initialize()
    
    # –ó–∞–≥—Ä—É–∂–∞–µ–º –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –¥–æ–∫—É–º–µ–Ω—Ç
    doc_id = await rag.add_document(
        "machine_learning_guide.pdf",
        "ml_guide.pdf"
    )
    # [RAG_MANAGER] Auto-detected document language: en
    
    # –ü–æ–∏—Å–∫ –Ω–∞ —Ä—É—Å—Å–∫–æ–º - —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ!
    results = await rag.search(
        query="—á—Ç–æ —Ç–∞–∫–æ–µ –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ?",
        document_id=doc_id
    )
    # [LANG_DETECTOR] Detected language: ru
    # [RAG_MANAGER] Cross-lingual search detected (ru -> en)
    # [LANG_DETECTOR] Translated: "what is machine learning?"
    
    for r in results:
        print(f"{r['similarity']:.1%}: {r['content'][:100]}...")
    
    await rag.close()
```

**–í—ã–≤–æ–¥:**
```
85.2%: Machine learning is a method of data analysis that...
82.1%: The fundamental concept of machine learning involves...
78.5%: In supervised learning, the algorithm learns from...
```

### –ü—Ä–∏–º–µ—Ä 2: –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–∞—è –±–∞–∑–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

```python
# –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–∞—Ö
await rag.add_document("en_doc.pdf", "en.pdf")  # English
await rag.add_document("ru_doc.pdf", "ru.pdf")  # –†—É—Å—Å–∫–∏–π
await rag.add_document("de_doc.pdf", "de.pdf")  # Deutsch

# –ü–æ–∏—Å–∫ –Ω–∞ –ª—é–±–æ–º —è–∑—ã–∫–µ –Ω–∞–π–¥–µ—Ç –≤–æ –≤—Å–µ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö!
results = await rag.search(
    query="artificial intelligence",  # –ê–Ω–≥–ª–∏–π—Å–∫–∏–π –∑–∞–ø—Ä–æ—Å
    document_id=None  # –ü–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞–º
)

# –ù–∞–π–¥–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –Ω–∞ –≤—Å–µ—Ö —è–∑—ã–∫–∞—Ö
```

### –ü—Ä–∏–º–µ—Ä 3: –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π PDF
2. –í —á–∞—Ç–µ –Ω–∞–ø–∏—à–∏—Ç–µ: "—á—Ç–æ —Ç–∞–∫–æ–µ –Ω–µ–π—Ä–æ–Ω–Ω—ã–µ —Å–µ—Ç–∏?"
3. –ü–æ–ª—É—á–∏—Ç–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã!

**–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
- –û–ø—Ä–µ–¥–µ–ª–∏—Ç, —á—Ç–æ –∑–∞–ø—Ä–æ—Å –Ω–∞ —Ä—É—Å—Å–∫–æ–º
- –û–ø—Ä–µ–¥–µ–ª–∏—Ç, —á—Ç–æ –¥–æ–∫—É–º–µ–Ω—Ç –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º
- –ü–µ—Ä–µ–≤–µ–¥–µ—Ç –∑–∞–ø—Ä–æ—Å
- –ù–∞–π–¥–µ—Ç –ª—É—á—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- –í–µ—Ä–Ω–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### –ü—Ä–æ—Å–º–æ—Ç—Ä –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —è–∑—ã–∫–æ–≤

```python
docs = await rag.get_documents()

for doc in docs:
    lang = doc['metadata'].get('language', 'unknown')
    print(f"{doc['filename']}: {lang}")
```

**–í—ã–≤–æ–¥:**
```
guide_en.pdf: en
—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ.pdf: ru
anleitung.pdf: de
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

–ü—Ä–∏ –ø–æ–∏—Å–∫–µ –≤ –ª–æ–≥–∞—Ö –±—É–¥–µ—Ç –≤–∏–¥–Ω–æ:

```
[LANG_DETECTOR] Detected language: ru
[RAG_MANAGER] Document language: en  
[RAG_MANAGER] Cross-lingual search detected (ru -> en)
[LANG_DETECTOR] Translated from ru to en
  Original: –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ
  Translated: machine learning
[RAG_MANAGER] Will search with 2 query variants
```

## –ß—Ç–æ –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?

### 1. –ù–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –ø–æ–∏—Å–∫–∞

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
```python
# –í RAG/config.py –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–∞—è –º–æ–¥–µ–ª—å
embedding_model: str = "sentence-transformers/paraphrase-multilingual-mpnet-base-v2"
```

**–ò—Å–ø—Ä–∞–≤—å—Ç–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–∞—è –º–æ–¥–µ–ª—å
2. –ü–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∏—Ä—É–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### 2. –ü–µ—Ä–µ–≤–æ–¥ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É:**
```bash
pip list | grep deep-translator
```

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```
deep-translator==1.11.4
```

**–ò—Å–ø—Ä–∞–≤—å—Ç–µ:**
```bash
pip install deep-translator
```

### 3. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
```bash
pip list | grep langdetect
```

**–ò—Å–ø—Ä–∞–≤—å—Ç–µ:**
```bash
pip install langdetect
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞

1. **–ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ:**
   - –¢–µ–∫—Å—Ç –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è
   - –Ø–∑—ã–∫ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

2. **–ü—Ä–∏ –ø–æ–∏—Å–∫–µ:**
   - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —è–∑—ã–∫ –∑–∞–ø—Ä–æ—Å–∞
   - –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç—Å—è —Å —è–∑—ã–∫–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞
   - –ï—Å–ª–∏ —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è - –∑–∞–ø—Ä–æ—Å –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è
   - –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ–∏—Å–∫ –ø–æ –æ–±–æ–∏–º –≤–∞—Ä–∏–∞–Ω—Ç–∞–º
   - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –∏ —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–∞—è –º–æ–¥–µ–ª—å:** `paraphrase-multilingual-mpnet-base-v2`
- **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞:** `langdetect` (55+ —è–∑—ã–∫–æ–≤)
- **–ü–µ—Ä–µ–≤–æ–¥:** `deep-translator` (100+ —è–∑—ã–∫–æ–≤)

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

‚úÖ **–ë–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** - —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏  
‚úÖ **–õ—é–±—ã–µ —è–∑—ã–∫–∏** - 55+ —è–∑—ã–∫–æ–≤ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç —Å–∞–º  
‚úÖ **–£–º–Ω–æ** - –ø–µ—Ä–µ–≤–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ  
‚úÖ **–¢–æ—á–Ω–æ** - –∫–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

## –î–∞–ª—å–Ω–µ–π—à–µ–µ —á—Ç–µ–Ω–∏–µ

- [–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](docs/AUTO_MULTILINGUAL.md)
- [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](docs/USAGE.md)
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è](docs/IMPROVEMENTS.md)

## –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –≤–∞—à RAG —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ –Ω–∞ –ª—é–±—ã—Ö —è–∑—ã–∫–∞—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏! üéâ

