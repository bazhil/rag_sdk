# –ß–µ–∫-–ª–∏—Å—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ RAG SDK

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫

–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏: 2025-10-25

---

## 1Ô∏è‚É£ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### ‚úÖ PostgreSQL (–≤—Å–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | .env | docker-compose.yml | config.py | –°—Ç–∞—Ç—É—Å |
|------------|------|-------------------|-----------|--------|
| `POSTGRES_USER` | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ OK |
| `POSTGRES_PASSWORD` | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ OK |
| `POSTGRES_DB` | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ OK |
| `POSTGRES_HOST` | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ OK |
| `POSTGRES_PORT` | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ OK |

**–ü–æ—Ä—Ç:** 6432 (–≤–Ω–µ—à–Ω–∏–π) ‚Üí 5432 (–≤–Ω—É—Ç—Ä–∏ Docker)

### ‚úÖ Ollama (–≤—Å–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | .env | docker-compose.yml | config.py | manager | –°—Ç–∞—Ç—É—Å |
|------------|------|-------------------|-----------|---------|--------|
| `OLLAMA_HOST` | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ OK |
| `OLLAMA_MODEL` | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ OK |

### ‚úÖ OpenAI (–≤—Å–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | .env | docker-compose.yml | config.py | manager | –°—Ç–∞—Ç—É—Å |
|------------|------|-------------------|-----------|---------|--------|
| `OPENAI_API_KEY` | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ OK |
| `OPENAI_MODEL` | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ OK |

### ‚úÖ DeepSeek (–≤—Å–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | .env | docker-compose.yml | config.py | manager | –°—Ç–∞—Ç—É—Å |
|------------|------|-------------------|-----------|---------|--------|
| `DEEPSEEK_API_KEY` | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ OK |

### ‚úÖ Yandex GPT (–≤—Å–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | .env | docker-compose.yml | config.py | manager | –°—Ç–∞—Ç—É—Å |
|------------|------|-------------------|-----------|---------|--------|
| `YANDEX_GPT_API_KEY` | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ OK |
| `YANDEX_GPT_FOLDER_ID` | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ OK |

### ‚úÖ GigaChat (–≤—Å–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ) üéØ

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | .env | docker-compose.yml | config.py | manager | –°—Ç–∞—Ç—É—Å |
|------------|------|-------------------|-----------|---------|--------|
| `GIGA_CHAT_AUTH_KEY` | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ OK |
| `GIGA_CHAT_MODEL` | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ OK |

**–ó–Ω–∞—á–µ–Ω–∏–µ:** `GigaChat-2-Lite`

### ‚úÖ Embeddings (–≤—Å–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ)

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | .env | docker-compose.yml | config.py | –°—Ç–∞—Ç—É—Å |
|------------|------|-------------------|-----------|--------|
| `EMBEDDING_MODEL` | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ OK |
| `CHUNK_SIZE` | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ OK |
| `CHUNK_OVERLAP` | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ OK |

---

## 2Ô∏è‚É£ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### ‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ (requirements.txt)

| –ü–∞–∫–µ—Ç | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|-------|--------|------------|--------|
| fastapi | 0.115.0 | API framework | ‚úÖ OK |
| asyncpg | 0.29.0 | PostgreSQL –¥—Ä–∞–π–≤–µ—Ä | ‚úÖ OK |
| pgvector | 0.3.5 | Vector extension | ‚úÖ OK |
| sentence-transformers | 3.3.0 | Embeddings | ‚úÖ OK |
| pypdf | 5.1.0 | PDF –æ–±—Ä–∞–±–æ—Ç–∫–∞ | ‚úÖ OK |
| python-docx | 1.1.2 | DOCX –æ–±—Ä–∞–±–æ—Ç–∫–∞ | ‚úÖ OK |

### ‚úÖ LLM Manager (llm_manager/requirements.txt)

| –ü–∞–∫–µ—Ç | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|-------|--------|------------|--------|
| ollama | 0.5.0 | Ollama –∫–ª–∏–µ–Ω—Ç | ‚úÖ OK |
| openai | 1.82.1 | OpenAI –∫–ª–∏–µ–Ω—Ç | ‚úÖ OK |
| gigachat | 0.1.40 | GigaChat –∫–ª–∏–µ–Ω—Ç | ‚úÖ OK |
| yandex-cloud-ml-sdk | 0.10.0 | Yandex GPT | ‚úÖ OK |

---

## 3Ô∏è‚É£ –ü–µ—Ä–µ–¥–∞—á–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

### ‚úÖ –ü—É—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ Docker

```
.env —Ñ–∞–π–ª (–∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞)
    ‚Üì
docker-compose.yml —á–∏—Ç–∞–µ—Ç ${VAR}
    ‚Üì
environment: —Å–µ–∫—Ü–∏—è –≤ docker-compose.yml
    ‚Üì
Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è)
    ‚Üì
Python –∫–æ–¥: os.getenv('VAR')
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–æ–∫–∏–¥—ã–≤–∞—é—Ç—Å—è

### ‚úÖ –ü—É—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –ª–æ–∫–∞–ª—å–Ω–æ

```
.env —Ñ–∞–π–ª (–∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞)
    ‚Üì
load_dotenv() –≤ Python –∫–æ–¥–µ
    ‚Üì
os.environ (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è)
    ‚Üì
Python –∫–æ–¥: os.getenv('VAR')
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

---

## 4Ô∏è‚É£ GigaChat —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

### ‚úÖ –ö–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```python
# llm_manager/managers/giga_chat_manager.py
client = GigaChat(
    credentials=os.getenv('GIGA_CHAT_AUTH_KEY'),  ‚úÖ
    verify_ssl_certs=False,
    model=os.getenv('GIGA_CHAT_MODEL')  ‚úÖ
)
```

### ‚úÖ –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

| –ú–µ—Å—Ç–æ | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –°—Ç–∞—Ç—É—Å |
|-------|----------------------|--------|
| `.env` | `GigaChat-2-Lite` | ‚úÖ OK |
| `docker-compose.yml` | `${GIGA_CHAT_MODEL:-GigaChat-2-Lite}` | ‚úÖ OK |
| `config.py` | `giga_chat_model: str = "GigaChat-2-Lite"` | ‚úÖ OK |

### ‚úÖ –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ gigachat

```bash
$ grep gigachat llm_manager/requirements.txt
gigachat==0.1.40  ‚úÖ
```

---

## 5Ô∏è‚É£ –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### ‚úÖ .env —Ñ–∞–π–ª

```
/home/ilya/PycharmProjects/rag_sdk/.env  ‚úÖ –°—É—â–µ—Å—Ç–≤—É–µ—Ç
```

**–ù–ï –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å:**
```
/home/ilya/PycharmProjects/rag_sdk/llm_manager/.env  ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
```

### ‚úÖ .gitignore

```
.env  ‚úÖ –í –∏–≥–Ω–æ—Ä–µ
```

---

## 6Ô∏è‚É£ Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### ‚úÖ Volumes (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö)

| Volume | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|--------|-----------|--------|
| `postgres_data` | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL | ‚úÖ OK |
| `model_cache` | –ö–µ—à embeddings –º–æ–¥–µ–ª–µ–π | ‚úÖ OK |
| `./uploads` | –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã | ‚úÖ OK |

### ‚úÖ –ü–æ—Ä—Ç—ã

| –°–µ—Ä–≤–∏—Å | –í–Ω–µ—à–Ω–∏–π ‚Üí –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π | –°—Ç–∞—Ç—É—Å |
|--------|---------------------|--------|
| postgres | 6432 ‚Üí 5432 | ‚úÖ OK (–Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç) |
| app | 8000 ‚Üí 8000 | ‚úÖ OK |

### ‚úÖ Restart policy

```yaml
restart: unless-stopped  ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –¥–ª—è –æ–±–æ–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
```

---

## 7Ô∏è‚É£ –ò—Ç–æ–≥–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª—è GigaChat

### –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–ª—è –∑–∞–ø—É—Å–∫–∞:

1. ‚úÖ –ü–æ–ª—É—á–∏—Ç—å Auth Key –æ—Ç GigaChat
2. ‚úÖ –£–∫–∞–∑–∞—Ç—å –µ–≥–æ –≤ `.env`:
   ```env
   PROVIDER=gigachat
   GIGA_CHAT_AUTH_KEY=–≤–∞—à-–∫–ª—é—á
   GIGA_CHAT_MODEL=GigaChat-2-Lite
   ```
3. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å: `docker-compose up --build`

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
docker exec rag_app env | grep GIGA_CHAT
# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
# GIGA_CHAT_AUTH_KEY=–≤–∞—à-–∫–ª—é—á
# GIGA_CHAT_MODEL=GigaChat-2-Lite

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker-compose logs app | grep -i gigachat

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å health
curl http://localhost:8000/health
```

---

## üìä –°–≤–æ–¥–∫–∞

### ‚úÖ –í—Å–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

- ‚úÖ **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** - –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã
- ‚úÖ **–ü–µ—Ä–µ–¥–∞—á–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —á–µ—Ä–µ–∑ docker-compose.yml
- ‚úÖ **–ö–æ–¥ llm_manager** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç os.getenv() –≤–µ–∑–¥–µ
- ‚úÖ **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** - gigachat==0.1.40 –¥–æ–±–∞–≤–ª–µ–Ω–∞
- ‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ **GigaChat-2-Lite** - –º–æ–¥–µ–ª—å —É–∫–∞–∑–∞–Ω–∞ –≤–µ–∑–¥–µ

### üéØ –î–ª—è —Ä–∞–±–æ—Ç—ã —Å GigaChat –Ω—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ:

1. –£–∫–∞–∑–∞—Ç—å `GIGA_CHAT_AUTH_KEY` –≤ `.env`
2. –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å `PROVIDER=gigachat`
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å `docker-compose up --build`

**–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã! –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ —Å GigaChat-2-Lite! üöÄ**

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:** `QUICKSTART.md`
- **–£—Å—Ç–∞–Ω–æ–≤–∫–∞:** `INSTALL.md`
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ GigaChat:** `GIGACHAT_SETUP.md`
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:** `ENV_CONFIG.md`
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** `ARCHITECTURE.md`

